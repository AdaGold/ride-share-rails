  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
TripsController::update: test_0001_can update an existing trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (4.8ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.8ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:22.335293"], ["updated_at", "2020-10-23 17:25:22.335293"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (1.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:22.352879"], ["updated_at", "2020-10-23 17:25:22.352879"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTrip Create (10.7ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:25:22.421356"], ["updated_at", "2020-10-23 17:25:22.421356"], ["passenger_id", 1], ["driver_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started PATCH "/trips/1" for 127.0.0.1 at 2020-10-23 10:25:22 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"1", "driver_id"=>"1"}, "id"=>"1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Trip Load (0.0ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
Redirected to http://www.example.com/trips/1
Completed 302 Found in 12ms (ActiveRecord: 0.9ms | Allocations: 1734)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
TripsController::update: test_0002_does not update any trip if given an invalid id, and responds with a 404
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (2.9ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:22.539984"], ["updated_at", "2020-10-23 17:25:22.539984"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:22.551193"], ["updated_at", "2020-10-23 17:25:22.551193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started PATCH "/trips/-1" for 127.0.0.1 at 2020-10-23 10:25:22 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"2", "driver_id"=>"2"}, "id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 308)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0002_responds with redirect when getting the edit page for a non-existing passenger
--------------------------------------------------------------------------------------------------------------------
Started GET "/passengers/-1/edit" for 127.0.0.1 at 2020-10-23 10:25:22 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 413)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0001_responds with success when getting the edit page for an existing, valid passenger
-----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:25:22.583953"], ["updated_at", "2020-10-23 17:25:22.583953"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/passengers/3/edit" for 127.0.0.1 at 2020-10-23 10:25:22 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 40.2ms | Allocations: 4797)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 48.0ms | Allocations: 5390)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /Users/cheezitman/ada/temp/solutions/ride-share-rails/public/packs-test
[Webpacker] warning ../../../../package.json: No license field

[Webpacker] Hash: 286e3e95eccb077c5862
Version: webpack 4.44.2
Time: 6807ms
Built at: 10/23/2020 10:25:40 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-54de8aa2374117bd4cea.js    663 KiB  application  [emitted] [immutable]  application
js/application-54de8aa2374117bd4cea.js.map    776 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-54de8aa2374117bd4cea.js js/application-54de8aa2374117bd4cea.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 770 bytes {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 905 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 6 hidden modules

Completed 200 OK in 17610ms (Views: 17597.4ms | ActiveRecord: 0.2ms | Allocations: 72892)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
PassengersController::show: test_0001_will get show for valid id
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:25:40.212218"], ["updated_at", "2020-10-23 17:25:40.212218"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passengers/4" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering passengers/show.html.erb within layouts/application
  [1m[36mTrip Load (0.6ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 4]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1[0m  [["available", true]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 4]]
  Rendered passengers/show.html.erb within layouts/application (Duration: 26.0ms | Allocations: 3567)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 38.4ms | ActiveRecord: 1.2ms | Allocations: 9840)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
PassengersController::show: test_0002_will respond with not_found for invalid ids
---------------------------------------------------------------------------------
Started GET "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
Driver::validations: test_0002_must have a VIN number
-----------------------------------------------------
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver::validations: test_0001_must have a name
-----------------------------------------------
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PassengersController::create: test_0001_can create a passanger
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"id"=>"10", "name"=>"Cathy Cathy", "phone_num"=>"8783 93093 3983"}}
[31mUnpermitted parameter: :id[0m
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "8783 93093 3983"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy Cathy"], ["phone_num", "8783 93093 3983"], ["created_at", "2020-10-23 17:25:40.303115"], ["updated_at", "2020-10-23 17:25:40.303115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/5
Completed 302 Found in 5ms (ActiveRecord: 1.8ms | Allocations: 924)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0002_does not create a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"name"=>"We're all Wonderful!"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.9ms | Allocations: 592)
  Rendered passengers/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 749)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 18ms (Views: 14.8ms | ActiveRecord: 1.0ms | Allocations: 7795)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0003_does not create a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"phone_num"=>"4259997777"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "4259997777"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.6ms | Allocations: 1679)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
TripsController::destroy: test_0001_destroys the trip instance in db when trip exists, then redirects
-----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:40.355878"], ["updated_at", "2020-10-23 17:25:40.355878"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.358226"], ["updated_at", "2020-10-23 17:25:40.358226"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:25:40.361970"], ["updated_at", "2020-10-23 17:25:40.361970"], ["passenger_id", 6], ["driver_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/2" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTrip Destroy (0.3ms)[0m  [1m[31mDELETE FROM "trips" WHERE "trips"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 3ms (ActiveRecord: 1.1ms | Allocations: 542)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
TripsController::destroy: test_0002_does not change the db when the trip does not exist, then responds with 
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:40.376244"], ["updated_at", "2020-10-23 17:25:40.376244"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.377785"], ["updated_at", "2020-10-23 17:25:40.377785"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/-1" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.4ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 297)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0001_responds with success when getting the edit page for an existing, valid driver
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.395436"], ["updated_at", "2020-10-23 17:25:40.395436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/5/edit" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.9ms | Allocations: 948)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1236)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.3ms | Allocations: 7940)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0002_responds with redirect when getting the edit page for a non-existing driver
--------------------------------------------------------------------------------------------------------------
Started GET "/drivers/-1/edit" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 300)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
DriversController::create: test_0001_can create a new driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (2.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Speed"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.456803"], ["updated_at", "2020-10-23 17:25:40.456803"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/6
Completed 302 Found in 7ms (ActiveRecord: 2.9ms | Allocations: 937)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0003_does not create a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"vin"=>"12345678901234567"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.6ms | Allocations: 1678)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0004_does not create a driver if vin is shorter than 17 chars, and responds with a redirect
---------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 2.5ms | Allocations: 595)
  Rendered drivers/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 750)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 23ms (Views: 19.9ms | ActiveRecord: 0.5ms | Allocations: 7793)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::create: test_0002_does not create a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Drivers are all Wonderful!"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.2ms | Allocations: 581)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 636)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 22ms (Views: 14.8ms | ActiveRecord: 0.4ms | Allocations: 7815)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Driver::relationships: test_0001_can have many trips
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.568175"], ["updated_at", "2020-10-23 17:25:40.568175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:25:40.570891"], ["updated_at", "2020-10-23 17:25:40.570891"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 17:25:40.575627"], ["updated_at", "2020-10-23 17:25:40.575627"], ["passenger_id", 8], ["driver_id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTrip Create (0.6ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 17:25:40.581865"], ["updated_at", "2020-10-23 17:25:40.581865"], ["passenger_id", 8], ["driver_id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 7]]
  [1m[36mTrip Load (0.6ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 7]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
Driver::custom methods::average rating: test_0001_returns the correct average rating for the driver
---------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.4ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.590874"], ["updated_at", "2020-10-23 17:25:40.590874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.5ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 17:25:40.594103"], ["updated_at", "2020-10-23 17:25:40.594103"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 17:25:40.597793"], ["updated_at", "2020-10-23 17:25:40.597793"], ["passenger_id", 9], ["driver_id", 8]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 17:25:40.599999"], ["updated_at", "2020-10-23 17:25:40.599999"], ["passenger_id", 9], ["driver_id", 8]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 8]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 8]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
DriversController::show: test_0001_responds with success when showing an existing valid driver
----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.8ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.606188"], ["updated_at", "2020-10-23 17:25:40.606188"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/9" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering drivers/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 9]]
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 9]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 9]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 9]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 9]]
  Rendered drivers/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1770)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.8ms | ActiveRecord: 1.6ms | Allocations: 8037)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
DriversController::show: test_0002_responds with 404 with an invalid driver id
------------------------------------------------------------------------------
Started GET "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 300)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Trip: test_0001_can be instantiated
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Trip: test_0002_will have the required fields
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------
Driver::custom methods::total earnings: test_0001_returns the total earnings of all the driver's trips
------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.660415"], ["updated_at", "2020-10-23 17:25:40.660415"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 17:25:40.664466"], ["updated_at", "2020-10-23 17:25:40.664466"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 17:25:40.667504"], ["updated_at", "2020-10-23 17:25:40.667504"], ["passenger_id", 10], ["driver_id", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTrip Create (1.1ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 17:25:40.670433"], ["updated_at", "2020-10-23 17:25:40.670433"], ["passenger_id", 10], ["driver_id", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 10]]
  [1m[36mTrip Load (0.5ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 10]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------
PassengersController::index: test_0001_responds with success when there are many passenger saved
------------------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (0.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 346)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.4ms | Allocations: 6499)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
PassengersController::index: test_0002_responds with success when there are no passenger
----------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 139)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 6152)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::index: test_0001_responds with success when there are many drivers saved
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.770090"], ["updated_at", "2020-10-23 17:25:40.770090"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.3ms | Allocations: 6566)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
DriversController::index: test_0002_responds with success when there are no drivers saved
-----------------------------------------------------------------------------------------
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 141)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 6151)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Driver: test_0001_can be instantiated
-------------------------------------
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver: test_0002_will have the required fields
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.815884"], ["updated_at", "2020-10-23 17:25:40.815884"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------------
TripsController::edit: test_0001_responds with success when getting the edit page for an existing, valid trip
-------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:40.819313"], ["updated_at", "2020-10-23 17:25:40.819313"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.821328"], ["updated_at", "2020-10-23 17:25:40.821328"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:25:40.824394"], ["updated_at", "2020-10-23 17:25:40.824394"], ["passenger_id", 11], ["driver_id", 13]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/9/edit" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"9"}
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering trips/edit.html.erb within layouts/application
  Rendered trips/edit.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1515)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.3ms | Allocations: 8218)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
TripsController::edit: test_0002_responds with redirect when getting the edit page for a non-existing trip
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:40.852255"], ["updated_at", "2020-10-23 17:25:40.852255"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.854083"], ["updated_at", "2020-10-23 17:25:40.854083"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1/edit" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 304)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
Passenger::relationships: test_0001_can have many trips
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:25:40.867521"], ["updated_at", "2020-10-23 17:25:40.867521"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "ALWSS52P9NEYLVDE9"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Waldo"], ["vin", "ALWSS52P9NEYLVDE9"], ["created_at", "2020-10-23 17:25:40.868970"], ["updated_at", "2020-10-23 17:25:40.868970"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 17:25:40.872615"], ["updated_at", "2020-10-23 17:25:40.872615"], ["passenger_id", 13], ["driver_id", 15]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 17:25:40.875599"], ["updated_at", "2020-10-23 17:25:40.875599"], ["passenger_id", 13], ["driver_id", 15]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 13]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 13]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
TripsController::show: test_0002_will respond with not_found for invalid ids
----------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.6ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:40.882544"], ["updated_at", "2020-10-23 17:25:40.882544"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.887500"], ["updated_at", "2020-10-23 17:25:40.887500"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 304)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
TripsController::show: test_0001_will get show for valid id
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.5ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:40.901173"], ["updated_at", "2020-10-23 17:25:40.901173"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.904091"], ["updated_at", "2020-10-23 17:25:40.904091"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:25:40.908000"], ["updated_at", "2020-10-23 17:25:40.908000"], ["passenger_id", 15], ["driver_id", 17]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/12" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering trips/show.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendered trips/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 877)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.6ms | Allocations: 7147)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0001_destroys the passenger instance in db when passenger exists, then redirects
--------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.4ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:25:40.935127"], ["updated_at", "2020-10-23 17:25:40.935127"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/16" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"16"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Destroy (0.2ms)[0m  [1m[31mDELETE FROM "passengers" WHERE "passengers"."id" = $1[0m  [["id", 16]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 2ms (ActiveRecord: 0.6ms | Allocations: 519)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0002_does not change the db when the passenger does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 291)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------
TripsController::create: test_0001_can create a new trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:25:40.971854"], ["updated_at", "2020-10-23 17:25:40.971854"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:40.974879"], ["updated_at", "2020-10-23 17:25:40.974879"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started POST "/passengers/17/trips" for 127.0.0.1 at 2020-10-23 10:25:40 -0700
Processing by TripsController#create as HTML
  Parameters: {"passenger_id"=>"17"}
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1 ORDER BY "drivers"."id" ASC LIMIT $2[0m  [["available", true], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("date", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["date", "2020-10-23"], ["cost", 75.0], ["created_at", "2020-10-23 17:25:40.993753"], ["updated_at", "2020-10-23 17:25:40.993753"], ["passenger_id", 17], ["driver_id", 18]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/trips/13
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 18], ["LIMIT", 1]]
  [1m[36mDriver Update (0.3ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 17:25:40.996645"], ["id", 18]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 11ms (ActiveRecord: 2.2ms | Allocations: 2096)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
HomepagesController: test_0001_can get the homepage
---------------------------------------------------
Started GET "/" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by HomepagesController#index as HTML
  Rendering homepages/index.html.erb within layouts/application
  Rendered homepages/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 972)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms | Allocations: 7470)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
Passenger: test_0001_can be instantiated
----------------------------------------
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger: test_0002_will have the required fields
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:25:41.051255"], ["updated_at", "2020-10-23 17:25:41.051255"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
Passenger::validations: test_0002_must have a phone number
----------------------------------------------------------
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger::validations: test_0001_must have a name
--------------------------------------------------
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
DriversController::new: test_0001_responds with success
-------------------------------------------------------
Started GET "/drivers/new" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#new as HTML
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 2.1ms | Allocations: 571)
  Rendered drivers/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.0ms | Allocations: 6646)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
PassengersController::new: test_0001_resonse with succes
--------------------------------------------------------
Started GET "/passengers/new" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by PassengersController#new as HTML
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.3ms | Allocations: 573)
  Rendered passengers/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.8ms | ActiveRecord: 0.0ms | Allocations: 6647)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0003_does not update a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:25:41.114766"], ["updated_at", "2020-10-23 17:25:41.114766"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/19" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>""}, "id"=>"19"}
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "9340983094"], ["id", 19], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.3ms | Allocations: 624)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 679)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 23ms (Views: 18.4ms | ActiveRecord: 0.9ms | Allocations: 7823)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0004_does not update a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:25:41.153805"], ["updated_at", "2020-10-23 17:25:41.153805"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/20" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"phone_num"=>""}, "id"=>"20"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", ""], ["id", 20], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.6ms | Allocations: 626)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 681)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 21ms (Views: 17.3ms | ActiveRecord: 0.5ms | Allocations: 7835)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0001_can update an existing passanger with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.7ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:25:41.191553"], ["updated_at", "2020-10-23 17:25:41.191553"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/21" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"21"}
  [1m[36mPassenger Load (0.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "90482309480924"], ["id", 21], ["LIMIT", 1]]
  [1m[36mPassenger Update (1.7ms)[0m  [1m[33mUPDATE "passengers" SET "name" = $1, "phone_num" = $2, "updated_at" = $3 WHERE "passengers"."id" = $4[0m  [["name", "Cathy Cathy"], ["phone_num", "90482309480924"], ["updated_at", "2020-10-23 17:25:41.206428"], ["id", 21]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/21
Completed 302 Found in 7ms (ActiveRecord: 2.9ms | Allocations: 1085)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.5ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0002_does not update any passenger if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 299)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0001_can update an existing driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:41.256584"], ["updated_at", "2020-10-23 17:25:41.256584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/19" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"19"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 19], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "name" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["name", "Speed"], ["updated_at", "2020-10-23 17:25:41.269551"], ["id", 19]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/19
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 1068)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
DriversController::update: test_0002_does not update any driver if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"-1"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 299)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::update: test_0004_does not update a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:41.284880"], ["updated_at", "2020-10-23 17:25:41.284880"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/20" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"vin"=>""}, "id"=>"20"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", ""], ["id", 20], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.9ms | Allocations: 632)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 687)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 13ms (Views: 10.0ms | ActiveRecord: 0.7ms | Allocations: 8151)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0005_does not update a driver if vin is less than 17 chars, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.4ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:41.312981"], ["updated_at", "2020-10-23 17:25:41.312981"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/21" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}, "id"=>"21"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678"], ["id", 21], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.7ms | Allocations: 626)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 0.8ms | Allocations: 681)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 11ms (Views: 8.4ms | ActiveRecord: 0.5ms | Allocations: 7860)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0003_does not update a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:41.337678"], ["updated_at", "2020-10-23 17:25:41.337678"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/22" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>""}, "id"=>"22"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 22], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.8ms | Allocations: 622)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 677)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 12ms (Views: 9.2ms | ActiveRecord: 0.6ms | Allocations: 7835)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
Passenger::custom methods::total charges: test_0001_returns the total charges of all the passenger's trips
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:25:41.366247"], ["updated_at", "2020-10-23 17:25:41.366247"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "DriverWink"], ["vin", "12345678901234567"], ["created_at", "2020-10-23 17:25:41.367803"], ["updated_at", "2020-10-23 17:25:41.367803"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 10.0], ["created_at", "2020-10-23 17:25:41.370072"], ["updated_at", "2020-10-23 17:25:41.370072"], ["passenger_id", 22], ["driver_id", 23]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 50.0], ["created_at", "2020-10-23 17:25:41.373368"], ["updated_at", "2020-10-23 17:25:41.373368"], ["passenger_id", 22], ["driver_id", 23]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 22]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0001_destroys the driver instance in db when driver exists, then redirects
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:41.377841"], ["updated_at", "2020-10-23 17:25:41.377841"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/24" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"24"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Destroy (0.2ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 24]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 522)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0002_does not change the db when the driver does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:41.392223"], ["updated_at", "2020-10-23 17:25:41.392223"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.6ms | Allocations: 293)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0001_make driver available if driver is unavailable
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", false], ["created_at", "2020-10-23 17:25:41.405917"], ["updated_at", "2020-10-23 17:25:41.405917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/26/make_available" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"26"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 26], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", true], ["updated_at", "2020-10-23 17:25:41.417409"], ["id", 26]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/26
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 986)
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0002_make driver unavailable if driver is available
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:25:41.420957"], ["updated_at", "2020-10-23 17:25:41.420957"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/27/make_available" for 127.0.0.1 at 2020-10-23 10:25:41 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"27"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 27], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 17:25:41.430249"], ["id", 27]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/27
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 986)
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (7.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (4.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
HomepagesController: test_0001_can get the homepage
---------------------------------------------------
Started GET "/" for 127.0.0.1 at 2020-10-23 10:29:32 -0700
Processing by HomepagesController#index as HTML
  Rendering homepages/index.html.erb within layouts/application
  Rendered homepages/index.html.erb within layouts/application (Duration: 3669.3ms | Allocations: 28604)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 3764ms (Views: 3756.1ms | ActiveRecord: 0.0ms | Allocations: 36876)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
Passenger::relationships: test_0001_can have many trips
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:29:36.602221"], ["updated_at", "2020-10-23 17:29:36.602221"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "ALWSS52P9NEYLVDE9"], ["LIMIT", 1]]
  [1m[36mDriver Create (1.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Waldo"], ["vin", "ALWSS52P9NEYLVDE9"], ["created_at", "2020-10-23 17:29:36.616851"], ["updated_at", "2020-10-23 17:29:36.616851"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mTrip Create (7.6ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 17:29:36.661844"], ["updated_at", "2020-10-23 17:29:36.661844"], ["passenger_id", 23], ["driver_id", 28]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 17:29:36.674029"], ["updated_at", "2020-10-23 17:29:36.674029"], ["passenger_id", 23], ["driver_id", 28]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 23]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 23]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
PassengersController::index: test_0002_responds with success when there are no passenger
----------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 10:29:36 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 356)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 123ms (Views: 121.2ms | ActiveRecord: 0.2ms | Allocations: 7228)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------
PassengersController::index: test_0001_responds with success when there are many passenger saved
------------------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 10:29:36 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (4.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 139)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 4.4ms | Allocations: 6437)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
Driver::custom methods::average rating: test_0001_returns the correct average rating for the driver
---------------------------------------------------------------------------------------------------
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:36.878691"], ["updated_at", "2020-10-23 17:29:36.878691"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 17:29:36.880955"], ["updated_at", "2020-10-23 17:29:36.880955"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.5ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 17:29:36.884569"], ["updated_at", "2020-10-23 17:29:36.884569"], ["passenger_id", 24], ["driver_id", 29]]
  [1m[35m (2.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.5ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mTrip Create (0.5ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 17:29:36.892156"], ["updated_at", "2020-10-23 17:29:36.892156"], ["passenger_id", 24], ["driver_id", 29]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 29]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 29]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PassengersController::create: test_0001_can create a passanger
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:29:36 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"id"=>"10", "name"=>"Cathy Cathy", "phone_num"=>"8783 93093 3983"}}
[31mUnpermitted parameter: :id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "8783 93093 3983"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy Cathy"], ["phone_num", "8783 93093 3983"], ["created_at", "2020-10-23 17:29:36.912755"], ["updated_at", "2020-10-23 17:29:36.912755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/25
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 942)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0002_does not create a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:29:36 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"name"=>"We're all Wonderful!"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 6.5ms | Allocations: 1360)
  Rendered passengers/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1667)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 27ms (Views: 17.7ms | ActiveRecord: 1.4ms | Allocations: 10071)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0003_does not create a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:29:36 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"phone_num"=>"4259997777"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "4259997777"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 1690)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------
TripsController::create: test_0001_can create a new trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:36.969747"], ["updated_at", "2020-10-23 17:29:36.969747"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:36.971373"], ["updated_at", "2020-10-23 17:29:36.971373"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started POST "/passengers/26/trips" for 127.0.0.1 at 2020-10-23 10:29:36 -0700
Processing by TripsController#create as HTML
  Parameters: {"passenger_id"=>"26"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1 ORDER BY "drivers"."id" ASC LIMIT $2[0m  [["available", true], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mTrip Create (0.6ms)[0m  [1m[32mINSERT INTO "trips" ("date", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["date", "2020-10-23"], ["cost", 721.0], ["created_at", "2020-10-23 17:29:36.986503"], ["updated_at", "2020-10-23 17:29:36.986503"], ["passenger_id", 26], ["driver_id", 30]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/trips/20
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 30], ["LIMIT", 1]]
  [1m[36mDriver Update (0.4ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 17:29:36.991046"], ["id", 30]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 12ms (ActiveRecord: 2.8ms | Allocations: 2144)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
TripsController::show: test_0001_will get show for valid id
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:36.998384"], ["updated_at", "2020-10-23 17:29:36.998384"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.000126"], ["updated_at", "2020-10-23 17:29:37.000126"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:29:37.002394"], ["updated_at", "2020-10-23 17:29:37.002394"], ["passenger_id", 27], ["driver_id", 31]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/21" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering trips/show.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  Rendered trips/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 885)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.4ms | Allocations: 7999)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
TripsController::show: test_0002_will respond with not_found for invalid ids
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:37.026568"], ["updated_at", "2020-10-23 17:29:37.026568"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.028254"], ["updated_at", "2020-10-23 17:29:37.028254"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 308)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0001_can update an existing passanger with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:29:37.046517"], ["updated_at", "2020-10-23 17:29:37.046517"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/29" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"29"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "90482309480924"], ["id", 29], ["LIMIT", 1]]
  [1m[36mPassenger Update (0.3ms)[0m  [1m[33mUPDATE "passengers" SET "name" = $1, "phone_num" = $2, "updated_at" = $3 WHERE "passengers"."id" = $4[0m  [["name", "Cathy Cathy"], ["phone_num", "90482309480924"], ["updated_at", "2020-10-23 17:29:37.058040"], ["id", 29]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/29
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 1196)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0002_does not update any passenger if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"-1"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 297)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0003_does not update a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.7ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:29:37.072948"], ["updated_at", "2020-10-23 17:29:37.072948"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/30" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>""}, "id"=>"30"}
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "9340983094"], ["id", 30], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.5ms | Allocations: 632)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 3.0ms | Allocations: 790)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 16ms (Views: 11.4ms | ActiveRecord: 1.0ms | Allocations: 8366)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0004_does not update a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:29:37.105548"], ["updated_at", "2020-10-23 17:29:37.105548"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/31" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"phone_num"=>""}, "id"=>"31"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", ""], ["id", 31], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.8ms | Allocations: 624)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 679)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 11ms (Views: 7.8ms | ActiveRecord: 0.6ms | Allocations: 8121)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
PassengersController::new: test_0001_resonse with succes
--------------------------------------------------------
Started GET "/passengers/new" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#new as HTML
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.2ms | Allocations: 566)
  Rendered passengers/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 621)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms | Allocations: 6920)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
PassengersController::show: test_0002_will respond with not_found for invalid ids
---------------------------------------------------------------------------------
Started GET "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 298)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
PassengersController::show: test_0001_will get show for valid id
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:29:37.169754"], ["updated_at", "2020-10-23 17:29:37.169754"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passengers/32" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"32"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  Rendering passengers/show.html.erb within layouts/application
  [1m[36mTrip Load (0.5ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 32]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1[0m  [["available", true]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 32]]
  Rendered passengers/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1372)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 1.3ms | Allocations: 7924)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
TripsController::update: test_0001_can update an existing trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:37.201326"], ["updated_at", "2020-10-23 17:29:37.201326"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.203234"], ["updated_at", "2020-10-23 17:29:37.203234"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:29:37.206160"], ["updated_at", "2020-10-23 17:29:37.206160"], ["passenger_id", 33], ["driver_id", 33]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started PATCH "/trips/22" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"33", "driver_id"=>"33"}, "id"=>"22"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Trip Load (0.0ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
Redirected to http://www.example.com/trips/22
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1460)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
TripsController::update: test_0002_does not update any trip if given an invalid id, and responds with a 404
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:37.226695"], ["updated_at", "2020-10-23 17:29:37.226695"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.228793"], ["updated_at", "2020-10-23 17:29:37.228793"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started PATCH "/trips/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"34", "driver_id"=>"34"}, "id"=>"-1"}
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 303)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Trip: test_0002_will have the required fields
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Trip: test_0001_can be instantiated
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger::validations: test_0001_must have a name
--------------------------------------------------
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
Passenger::validations: test_0002_must have a phone number
----------------------------------------------------------
  [1m[36mPassenger Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0001_responds with success when getting the edit page for an existing, valid driver
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.269654"], ["updated_at", "2020-10-23 17:29:37.269654"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/35/edit" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"35"}
  [1m[36mDriver Load (1.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 2.5ms | Allocations: 1025)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1318)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.1ms | ActiveRecord: 1.8ms | Allocations: 8310)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0002_responds with redirect when getting the edit page for a non-existing driver
--------------------------------------------------------------------------------------------------------------
Started GET "/drivers/-1/edit" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 300)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger: test_0002_will have the required fields
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:29:37.314178"], ["updated_at", "2020-10-23 17:29:37.314178"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
Passenger: test_0001_can be instantiated
----------------------------------------
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0001_destroys the passenger instance in db when passenger exists, then redirects
--------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:29:37.318591"], ["updated_at", "2020-10-23 17:29:37.318591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/36" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"36"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Destroy (0.2ms)[0m  [1m[31mDELETE FROM "passengers" WHERE "passengers"."id" = $1[0m  [["id", 36]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 2ms (ActiveRecord: 0.6ms | Allocations: 536)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0002_does not change the db when the passenger does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.7ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.7ms | Allocations: 291)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Driver::relationships: test_0001_can have many trips
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.347207"], ["updated_at", "2020-10-23 17:29:37.347207"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:29:37.348972"], ["updated_at", "2020-10-23 17:29:37.348972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 17:29:37.351555"], ["updated_at", "2020-10-23 17:29:37.351555"], ["passenger_id", 37], ["driver_id", 36]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 17:29:37.354357"], ["updated_at", "2020-10-23 17:29:37.354357"], ["passenger_id", 37], ["driver_id", 36]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 36]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 36]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------------
TripsController::edit: test_0001_responds with success when getting the edit page for an existing, valid trip
-------------------------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:37.362602"], ["updated_at", "2020-10-23 17:29:37.362602"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.364335"], ["updated_at", "2020-10-23 17:29:37.364335"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:29:37.366432"], ["updated_at", "2020-10-23 17:29:37.366432"], ["passenger_id", 38], ["driver_id", 37]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/25/edit" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"25"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  Rendering trips/edit.html.erb within layouts/application
  Rendered trips/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1366)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.2ms | Allocations: 7923)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
TripsController::edit: test_0002_responds with redirect when getting the edit page for a non-existing trip
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:37.399095"], ["updated_at", "2020-10-23 17:29:37.399095"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.400827"], ["updated_at", "2020-10-23 17:29:37.400827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1/edit" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 304)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
DriversController::show: test_0001_responds with success when showing an existing valid driver
----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.412750"], ["updated_at", "2020-10-23 17:29:37.412750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/39" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  Rendering drivers/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 39]]
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 39]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 39]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 39]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 39]]
  Rendered drivers/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1770)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.9ms | Allocations: 8325)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
DriversController::show: test_0002_responds with 404 with an invalid driver id
------------------------------------------------------------------------------
Started GET "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 300)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
DriversController::create: test_0001_can create a new driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Speed"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.460297"], ["updated_at", "2020-10-23 17:29:37.460297"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/40
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 937)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::create: test_0002_does not create a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Drivers are all Wonderful!"}}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.8ms | Allocations: 592)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 748)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 17ms (Views: 12.1ms | ActiveRecord: 1.5ms | Allocations: 8452)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0004_does not create a driver if vin is shorter than 17 chars, and responds with a redirect
---------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.9ms | Allocations: 584)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 639)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 10ms (Views: 7.8ms | ActiveRecord: 0.4ms | Allocations: 7832)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0003_does not create a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"vin"=>"12345678901234567"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.8ms | Allocations: 575)
  Rendered drivers/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 630)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 12ms (Views: 10.2ms | ActiveRecord: 0.4ms | Allocations: 7812)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Driver: test_0001_can be instantiated
-------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver: test_0002_will have the required fields
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.541076"], ["updated_at", "2020-10-23 17:29:37.541076"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
DriversController::new: test_0001_responds with success
-------------------------------------------------------
Started GET "/drivers/new" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#new as HTML
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.7ms | Allocations: 564)
  Rendered drivers/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 619)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 6919)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0002_responds with redirect when getting the edit page for a non-existing passenger
--------------------------------------------------------------------------------------------------------------------
Started GET "/passengers/-1/edit" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0001_responds with success when getting the edit page for an existing, valid passenger
-----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:29:37.578016"], ["updated_at", "2020-10-23 17:29:37.578016"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/passengers/40/edit" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"40"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.0ms | Allocations: 619)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 674)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.1ms | Allocations: 7096)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0001_destroys the driver instance in db when driver exists, then redirects
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.601840"], ["updated_at", "2020-10-23 17:29:37.601840"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/42" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"42"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Destroy (0.4ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 42]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers
Completed 302 Found in 3ms (ActiveRecord: 1.1ms | Allocations: 522)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0002_does not change the db when the driver does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.615943"], ["updated_at", "2020-10-23 17:29:37.615943"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.7ms | Allocations: 293)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
Passenger::custom methods::total charges: test_0001_returns the total charges of all the passenger's trips
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.4ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:29:37.632168"], ["updated_at", "2020-10-23 17:29:37.632168"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "DriverWink"], ["vin", "12345678901234567"], ["created_at", "2020-10-23 17:29:37.634788"], ["updated_at", "2020-10-23 17:29:37.634788"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 10.0], ["created_at", "2020-10-23 17:29:37.638177"], ["updated_at", "2020-10-23 17:29:37.638177"], ["passenger_id", 41], ["driver_id", 44]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 50.0], ["created_at", "2020-10-23 17:29:37.660107"], ["updated_at", "2020-10-23 17:29:37.660107"], ["passenger_id", 41], ["driver_id", 44]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 41]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
TripsController::destroy: test_0001_destroys the trip instance in db when trip exists, then redirects
-----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:37.665738"], ["updated_at", "2020-10-23 17:29:37.665738"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.667337"], ["updated_at", "2020-10-23 17:29:37.667337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:29:37.669519"], ["updated_at", "2020-10-23 17:29:37.669519"], ["passenger_id", 42], ["driver_id", 45]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/28" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"28"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTrip Destroy (0.2ms)[0m  [1m[31mDELETE FROM "trips" WHERE "trips"."id" = $1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 2ms (ActiveRecord: 0.7ms | Allocations: 523)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
TripsController::destroy: test_0002_does not change the db when the trip does not exist, then responds with 
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:29:37.685820"], ["updated_at", "2020-10-23 17:29:37.685820"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.687334"], ["updated_at", "2020-10-23 17:29:37.687334"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 297)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0001_can update an existing driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (4.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.704503"], ["updated_at", "2020-10-23 17:29:37.704503"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/47" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"47"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 47], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "name" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["name", "Speed"], ["updated_at", "2020-10-23 17:29:37.717860"], ["id", 47]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/47
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1068)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0005_does not update a driver if vin is less than 17 chars, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.721587"], ["updated_at", "2020-10-23 17:29:37.721587"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/48" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}, "id"=>"48"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678"], ["id", 48], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.8ms | Allocations: 629)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 684)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 12ms (Views: 9.3ms | ActiveRecord: 0.8ms | Allocations: 8151)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::update: test_0004_does not update a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.746076"], ["updated_at", "2020-10-23 17:29:37.746076"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/49" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"vin"=>""}, "id"=>"49"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", ""], ["id", 49], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.0ms | Allocations: 628)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 683)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 14ms (Views: 11.1ms | ActiveRecord: 0.7ms | Allocations: 8432)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
DriversController::update: test_0002_does not update any driver if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"-1"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 299)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0003_does not update a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.783439"], ["updated_at", "2020-10-23 17:29:37.783439"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/50" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>""}, "id"=>"50"}
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 50], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.9ms | Allocations: 622)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 677)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 12ms (Views: 8.0ms | ActiveRecord: 0.9ms | Allocations: 8122)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
Driver::validations: test_0002_must have a VIN number
-----------------------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver::validations: test_0001_must have a name
-----------------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0001_make driver available if driver is unavailable
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", false], ["created_at", "2020-10-23 17:29:37.815626"], ["updated_at", "2020-10-23 17:29:37.815626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/51/make_available" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"51"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 51], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", true], ["updated_at", "2020-10-23 17:29:37.825431"], ["id", 51]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/51
Completed 302 Found in 3ms (ActiveRecord: 0.8ms | Allocations: 986)
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0002_make driver unavailable if driver is available
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.829848"], ["updated_at", "2020-10-23 17:29:37.829848"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/52/make_available" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"52"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 52], ["LIMIT", 1]]
  [1m[36mDriver Update (0.4ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 17:29:37.845106"], ["id", 52]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/52
Completed 302 Found in 5ms (ActiveRecord: 2.2ms | Allocations: 986)
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::index: test_0001_responds with success when there are many drivers saved
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.849897"], ["updated_at", "2020-10-23 17:29:37.849897"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 6852)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
DriversController::index: test_0002_responds with success when there are no drivers saved
-----------------------------------------------------------------------------------------
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 10:29:37 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 141)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.2ms | Allocations: 6438)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------
Driver::custom methods::total earnings: test_0001_returns the total earnings of all the driver's trips
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:29:37.891916"], ["updated_at", "2020-10-23 17:29:37.891916"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.4ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 17:29:37.894251"], ["updated_at", "2020-10-23 17:29:37.894251"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 17:29:37.897275"], ["updated_at", "2020-10-23 17:29:37.897275"], ["passenger_id", 44], ["driver_id", 54]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 17:29:37.899154"], ["updated_at", "2020-10-23 17:29:37.899154"], ["passenger_id", 44], ["driver_id", 54]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 54]]
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 54]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (11.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (7.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0001_can update an existing driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (1.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:30.073299"], ["updated_at", "2020-10-23 17:30:30.073299"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/55" for 127.0.0.1 at 2020-10-23 10:30:30 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"55"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 55], ["LIMIT", 1]]
  [1m[36mDriver Update (0.3ms)[0m  [1m[33mUPDATE "drivers" SET "name" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["name", "Speed"], ["updated_at", "2020-10-23 17:30:30.121460"], ["id", 55]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/55
Completed 302 Found in 13ms (ActiveRecord: 1.1ms | Allocations: 1407)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::update: test_0004_does not update a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.4ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:30.134539"], ["updated_at", "2020-10-23 17:30:30.134539"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (13.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/56" for 127.0.0.1 at 2020-10-23 10:30:30 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"vin"=>""}, "id"=>"56"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", ""], ["id", 56], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 4.0ms | Allocations: 1420)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1839)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 3471ms (Views: 3461.1ms | ActiveRecord: 1.0ms | Allocations: 41967)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
DriversController::update: test_0002_does not update any driver if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"-1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 303)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0005_does not update a driver if vin is less than 17 chars, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (1.0ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:33.666183"], ["updated_at", "2020-10-23 17:30:33.666183"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/57" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}, "id"=>"57"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678"], ["id", 57], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.8ms | Allocations: 633)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 2.1ms | Allocations: 688)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 20ms (Views: 16.3ms | ActiveRecord: 0.8ms | Allocations: 8356)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0003_does not update a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:33.700785"], ["updated_at", "2020-10-23 17:30:33.700785"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/58" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>""}, "id"=>"58"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 58], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.4ms | Allocations: 622)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.6ms | Allocations: 677)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 25ms (Views: 21.2ms | ActiveRecord: 0.8ms | Allocations: 8347)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0003_does not update a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (6.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.4ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:30:33.765846"], ["updated_at", "2020-10-23 17:30:33.765846"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/45" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>""}, "id"=>"45"}
  [1m[36mPassenger Load (0.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "9340983094"], ["id", 45], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 2.7ms | Allocations: 978)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1275)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 28ms (Views: 18.4ms | ActiveRecord: 1.7ms | Allocations: 9685)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0004_does not update a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:30:33.814269"], ["updated_at", "2020-10-23 17:30:33.814269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/46" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"phone_num"=>""}, "id"=>"46"}
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", ""], ["id", 46], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.5ms | Allocations: 627)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 682)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 24ms (Views: 14.5ms | ActiveRecord: 0.7ms | Allocations: 8349)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0001_can update an existing passanger with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:30:33.851761"], ["updated_at", "2020-10-23 17:30:33.851761"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/47" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"47"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "90482309480924"], ["id", 47], ["LIMIT", 1]]
  [1m[36mPassenger Update (0.4ms)[0m  [1m[33mUPDATE "passengers" SET "name" = $1, "phone_num" = $2, "updated_at" = $3 WHERE "passengers"."id" = $4[0m  [["name", "Cathy Cathy"], ["phone_num", "90482309480924"], ["updated_at", "2020-10-23 17:30:33.864507"], ["id", 47]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/47
Completed 302 Found in 3ms (ActiveRecord: 1.0ms | Allocations: 1086)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0002_does not update any passenger if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 297)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PassengersController::create: test_0001_can create a passanger
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"id"=>"10", "name"=>"Cathy Cathy", "phone_num"=>"8783 93093 3983"}}
[31mUnpermitted parameter: :id[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "8783 93093 3983"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy Cathy"], ["phone_num", "8783 93093 3983"], ["created_at", "2020-10-23 17:30:33.898836"], ["updated_at", "2020-10-23 17:30:33.898836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/48
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 924)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0003_does not create a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"phone_num"=>"4259997777"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "4259997777"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.4ms | Allocations: 584)
  Rendered passengers/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 740)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 15ms (Views: 12.5ms | ActiveRecord: 0.4ms | Allocations: 8227)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0002_does not create a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"name"=>"We're all Wonderful!"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.9ms | Allocations: 579)
  Rendered passengers/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 634)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 14ms (Views: 10.7ms | ActiveRecord: 0.7ms | Allocations: 7979)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
PassengersController::show: test_0001_will get show for valid id
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:30:33.961001"], ["updated_at", "2020-10-23 17:30:33.961001"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passengers/49" for 127.0.0.1 at 2020-10-23 10:30:33 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  Rendering passengers/show.html.erb within layouts/application
  [1m[36mTrip Load (5.6ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 49]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1[0m  [["available", true]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 49]]
  Rendered passengers/show.html.erb within layouts/application (Duration: 42.8ms | Allocations: 3533)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 43.5ms | ActiveRecord: 8.2ms | Allocations: 10296)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
PassengersController::show: test_0002_will respond with not_found for invalid ids
---------------------------------------------------------------------------------
Started GET "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 298)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
DriversController::new: test_0001_responds with success
-------------------------------------------------------
Started GET "/drivers/new" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#new as HTML
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.0ms | Allocations: 571)
  Rendered drivers/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 726)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 7364)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
TripsController::destroy: test_0002_does not change the db when the trip does not exist, then responds with 
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.060592"], ["updated_at", "2020-10-23 17:30:34.060592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.062368"], ["updated_at", "2020-10-23 17:30:34.062368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/-1" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 414)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
TripsController::destroy: test_0001_destroys the trip instance in db when trip exists, then redirects
-----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.107470"], ["updated_at", "2020-10-23 17:30:34.107470"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.109410"], ["updated_at", "2020-10-23 17:30:34.109410"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mTrip Create (0.5ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:30:34.119748"], ["updated_at", "2020-10-23 17:30:34.119748"], ["passenger_id", 51], ["driver_id", 60]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/31" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"31"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTrip Destroy (0.2ms)[0m  [1m[31mDELETE FROM "trips" WHERE "trips"."id" = $1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 541)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
Passenger::relationships: test_0001_can have many trips
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.9ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:30:34.135917"], ["updated_at", "2020-10-23 17:30:34.135917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "ALWSS52P9NEYLVDE9"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.5ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Waldo"], ["vin", "ALWSS52P9NEYLVDE9"], ["created_at", "2020-10-23 17:30:34.141398"], ["updated_at", "2020-10-23 17:30:34.141398"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 17:30:34.145887"], ["updated_at", "2020-10-23 17:30:34.145887"], ["passenger_id", 52], ["driver_id", 61]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 17:30:34.148982"], ["updated_at", "2020-10-23 17:30:34.148982"], ["passenger_id", 52], ["driver_id", 61]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 52]]
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 52]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
HomepagesController: test_0001_can get the homepage
---------------------------------------------------
Started GET "/" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by HomepagesController#index as HTML
  Rendering homepages/index.html.erb within layouts/application
  Rendered homepages/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 979)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms | Allocations: 7970)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------
Driver::custom methods::total earnings: test_0001_returns the total earnings of all the driver's trips
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.178700"], ["updated_at", "2020-10-23 17:30:34.178700"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 17:30:34.180250"], ["updated_at", "2020-10-23 17:30:34.180250"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 17:30:34.184527"], ["updated_at", "2020-10-23 17:30:34.184527"], ["passenger_id", 53], ["driver_id", 62]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 17:30:34.189178"], ["updated_at", "2020-10-23 17:30:34.189178"], ["passenger_id", 53], ["driver_id", 62]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 62]]
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 62]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Driver: test_0001_can be instantiated
-------------------------------------
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver: test_0002_will have the required fields
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.199037"], ["updated_at", "2020-10-23 17:30:34.199037"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0001_destroys the passenger instance in db when passenger exists, then redirects
--------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:30:34.203220"], ["updated_at", "2020-10-23 17:30:34.203220"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/54" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"54"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Destroy (0.2ms)[0m  [1m[31mDELETE FROM "passengers" WHERE "passengers"."id" = $1[0m  [["id", 54]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 2ms (ActiveRecord: 0.6ms | Allocations: 519)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0002_does not change the db when the passenger does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0002_responds with redirect when getting the edit page for a non-existing driver
--------------------------------------------------------------------------------------------------------------
Started GET "/drivers/-1/edit" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 300)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0001_responds with success when getting the edit page for an existing, valid driver
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (5.6ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.5ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.256309"], ["updated_at", "2020-10-23 17:30:34.256309"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/64/edit" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"64"}
  [1m[36mDriver Load (3.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.4ms | Allocations: 617)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.6ms | Allocations: 672)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 11.9ms | ActiveRecord: 3.2ms | Allocations: 7296)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
DriversController::show: test_0001_responds with success when showing an existing valid driver
----------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.7ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.293920"], ["updated_at", "2020-10-23 17:30:34.293920"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/65" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"65"}
  [1m[36mDriver Load (1.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  Rendering drivers/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 65]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 65]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 65]]
  [1m[36mTrip Load (0.6ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 65]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 65]]
  Rendered drivers/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1771)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 16.3ms | ActiveRecord: 3.1ms | Allocations: 8525)
  [1m[35m (3.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
DriversController::show: test_0002_responds with 404 with an invalid driver id
------------------------------------------------------------------------------
Started GET "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 300)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
TripsController::edit: test_0002_responds with redirect when getting the edit page for a non-existing trip
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.348797"], ["updated_at", "2020-10-23 17:30:34.348797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.350745"], ["updated_at", "2020-10-23 17:30:34.350745"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1/edit" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 304)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------------
TripsController::edit: test_0001_responds with success when getting the edit page for an existing, valid trip
-------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.362758"], ["updated_at", "2020-10-23 17:30:34.362758"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.364198"], ["updated_at", "2020-10-23 17:30:34.364198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:30:34.366912"], ["updated_at", "2020-10-23 17:30:34.366912"], ["passenger_id", 56], ["driver_id", 67]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/36/edit" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"36"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  Rendering trips/edit.html.erb within layouts/application
  Rendered trips/edit.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.2ms | Allocations: 8558)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0002_does not change the db when the driver does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.5ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.401649"], ["updated_at", "2020-10-23 17:30:34.401649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 293)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0001_destroys the driver instance in db when driver exists, then redirects
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.413705"], ["updated_at", "2020-10-23 17:30:34.413705"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/69" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"69"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Destroy (0.2ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 69]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 522)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Driver::relationships: test_0001_can have many trips
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.426571"], ["updated_at", "2020-10-23 17:30:34.426571"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:30:34.428613"], ["updated_at", "2020-10-23 17:30:34.428613"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 17:30:34.431298"], ["updated_at", "2020-10-23 17:30:34.431298"], ["passenger_id", 57], ["driver_id", 70]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mTrip Create (0.5ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 17:30:34.436465"], ["updated_at", "2020-10-23 17:30:34.436465"], ["passenger_id", 57], ["driver_id", 70]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 70]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 70]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
PassengersController::new: test_0001_resonse with succes
--------------------------------------------------------
Started GET "/passengers/new" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by PassengersController#new as HTML
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.0ms | Allocations: 573)
  Rendered passengers/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.0ms | Allocations: 7134)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------
PassengersController::index: test_0001_responds with success when there are many passenger saved
------------------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (0.6ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 346)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.6ms | Allocations: 6979)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
PassengersController::index: test_0002_responds with success when there are no passenger
----------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (8.7ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 139)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 8.2ms | ActiveRecord: 8.7ms | Allocations: 6636)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0002_make driver unavailable if driver is available
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.531713"], ["updated_at", "2020-10-23 17:30:34.531713"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/71/make_available" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"71"}
  [1m[36mDriver Load (4.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[35m (7.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 71], ["LIMIT", 1]]
  [1m[36mDriver Update (0.3ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 17:30:34.563866"], ["id", 71]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/71
Completed 302 Found in 20ms (ActiveRecord: 16.0ms | Allocations: 987)
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0001_make driver available if driver is unavailable
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", false], ["created_at", "2020-10-23 17:30:34.568078"], ["updated_at", "2020-10-23 17:30:34.568078"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/72/make_available" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"72"}
  [1m[36mDriver Load (23.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 72], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", true], ["updated_at", "2020-10-23 17:30:34.607259"], ["id", 72]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/72
Completed 302 Found in 27ms (ActiveRecord: 24.1ms | Allocations: 986)
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
TripsController::update: test_0001_can update an existing trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.611811"], ["updated_at", "2020-10-23 17:30:34.611811"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.613605"], ["updated_at", "2020-10-23 17:30:34.613605"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:30:34.631138"], ["updated_at", "2020-10-23 17:30:34.631138"], ["passenger_id", 58], ["driver_id", 73]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started PATCH "/trips/39" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"58", "driver_id"=>"73"}, "id"=>"39"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Trip Load (0.0ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
Redirected to http://www.example.com/trips/39
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1350)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTrip Load (0.7ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
TripsController::update: test_0002_does not update any trip if given an invalid id, and responds with a 404
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.660740"], ["updated_at", "2020-10-23 17:30:34.660740"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.662389"], ["updated_at", "2020-10-23 17:30:34.662389"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started PATCH "/trips/-1" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"59", "driver_id"=>"74"}, "id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 303)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
Passenger::custom methods::total charges: test_0001_returns the total charges of all the passenger's trips
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:30:34.677340"], ["updated_at", "2020-10-23 17:30:34.677340"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.1ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "DriverWink"], ["vin", "12345678901234567"], ["created_at", "2020-10-23 17:30:34.678775"], ["updated_at", "2020-10-23 17:30:34.678775"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mTrip Create (0.5ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 10.0], ["created_at", "2020-10-23 17:30:34.680909"], ["updated_at", "2020-10-23 17:30:34.680909"], ["passenger_id", 60], ["driver_id", 75]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 50.0], ["created_at", "2020-10-23 17:30:34.685234"], ["updated_at", "2020-10-23 17:30:34.685234"], ["passenger_id", 60], ["driver_id", 75]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 60]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
DriversController::create: test_0001_can create a new driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Speed"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.703861"], ["updated_at", "2020-10-23 17:30:34.703861"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/76
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 936)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0003_does not create a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"vin"=>"12345678901234567"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.8ms | Allocations: 582)
  Rendered drivers/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 10ms (Views: 7.9ms | ActiveRecord: 0.4ms | Allocations: 8013)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0004_does not create a driver if vin is shorter than 17 chars, and responds with a redirect
---------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.1ms | Allocations: 585)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 640)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 15ms (Views: 11.7ms | ActiveRecord: 0.8ms | Allocations: 8032)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::create: test_0002_does not create a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Drivers are all Wonderful!"}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.2ms | Allocations: 581)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 636)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 19ms (Views: 14.6ms | ActiveRecord: 0.9ms | Allocations: 8301)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Trip: test_0002_will have the required fields
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Trip: test_0001_can be instantiated
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver::validations: test_0001_must have a name
-----------------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
Driver::validations: test_0002_must have a VIN number
-----------------------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
Driver::custom methods::average rating: test_0001_returns the correct average rating for the driver
---------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.811406"], ["updated_at", "2020-10-23 17:30:34.811406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 17:30:34.813292"], ["updated_at", "2020-10-23 17:30:34.813292"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 17:30:34.815476"], ["updated_at", "2020-10-23 17:30:34.815476"], ["passenger_id", 61], ["driver_id", 77]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 17:30:34.817868"], ["updated_at", "2020-10-23 17:30:34.817868"], ["passenger_id", 61], ["driver_id", 77]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 77]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 77]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger::validations: test_0001_must have a name
--------------------------------------------------
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
Passenger::validations: test_0002_must have a phone number
----------------------------------------------------------
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
Passenger: test_0001_can be instantiated
----------------------------------------
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger: test_0002_will have the required fields
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:30:34.827954"], ["updated_at", "2020-10-23 17:30:34.827954"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
TripsController::show: test_0001_will get show for valid id
-----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.5ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.831875"], ["updated_at", "2020-10-23 17:30:34.831875"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.834868"], ["updated_at", "2020-10-23 17:30:34.834868"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:30:34.839810"], ["updated_at", "2020-10-23 17:30:34.839810"], ["passenger_id", 63], ["driver_id", 78]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/44" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"44"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendering trips/show.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  Rendered trips/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 775)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.5ms | Allocations: 7532)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
TripsController::show: test_0002_will respond with not_found for invalid ids
----------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.869063"], ["updated_at", "2020-10-23 17:30:34.869063"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.871378"], ["updated_at", "2020-10-23 17:30:34.871378"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 304)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------
TripsController::create: test_0001_can create a new trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:30:34.885680"], ["updated_at", "2020-10-23 17:30:34.885680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.5ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.891605"], ["updated_at", "2020-10-23 17:30:34.891605"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started POST "/passengers/65/trips" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by TripsController#create as HTML
  Parameters: {"passenger_id"=>"65"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1 ORDER BY "drivers"."id" ASC LIMIT $2[0m  [["available", true], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("date", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["date", "2020-10-23"], ["cost", 67.0], ["created_at", "2020-10-23 17:30:34.907981"], ["updated_at", "2020-10-23 17:30:34.907981"], ["passenger_id", 65], ["driver_id", 80]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/trips/45
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 80], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 17:30:34.910747"], ["id", 80]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 7ms (ActiveRecord: 1.7ms | Allocations: 2049)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
DriversController::index: test_0002_responds with success when there are no drivers saved
-----------------------------------------------------------------------------------------
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 367)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.4ms | Allocations: 7001)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::index: test_0001_responds with success when there are many drivers saved
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.4ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:30:34.940742"], ["updated_at", "2020-10-23 17:30:34.940742"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 188)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.4ms | Allocations: 6685)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0001_responds with success when getting the edit page for an existing, valid passenger
-----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:30:34.967901"], ["updated_at", "2020-10-23 17:30:34.967901"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/passengers/66/edit" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"66"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.7ms | Allocations: 619)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 0.8ms | Allocations: 674)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.1ms | Allocations: 7296)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0002_responds with redirect when getting the edit page for a non-existing passenger
--------------------------------------------------------------------------------------------------------------------
Started GET "/passengers/-1/edit" for 127.0.0.1 at 2020-10-23 10:30:34 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.4ms | Allocations: 298)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
Passenger::validations: test_0002_must have a phone number
----------------------------------------------------------
  [1m[36mPassenger Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger::validations: test_0001_must have a name
--------------------------------------------------
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Trip: test_0001_can be instantiated
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Trip: test_0002_will have the required fields
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
Driver::custom methods::average rating: test_0001_returns the correct average rating for the driver
---------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (10.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (3.9ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:02.557365"], ["updated_at", "2020-10-23 17:51:02.557365"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (3.7ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 17:51:02.565376"], ["updated_at", "2020-10-23 17:51:02.565376"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mTrip Create (3.3ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 17:51:02.606684"], ["updated_at", "2020-10-23 17:51:02.606684"], ["passenger_id", 67], ["driver_id", 82]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mDriver Load (1.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 17:51:02.614240"], ["updated_at", "2020-10-23 17:51:02.614240"], ["passenger_id", 67], ["driver_id", 82]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (7.5ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 82]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 82]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0003_does not create a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:51:02 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"phone_num"=>"4259997777"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "4259997777"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 5.1ms | Allocations: 1414)
  Rendered passengers/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1860)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 3386ms (Views: 3381.1ms | ActiveRecord: 0.5ms | Allocations: 42123)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PassengersController::create: test_0001_can create a passanger
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"id"=>"10", "name"=>"Cathy Cathy", "phone_num"=>"8783 93093 3983"}}
[31mUnpermitted parameter: :id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "8783 93093 3983"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy Cathy"], ["phone_num", "8783 93093 3983"], ["created_at", "2020-10-23 17:51:06.109531"], ["updated_at", "2020-10-23 17:51:06.109531"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/68
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 942)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0002_does not create a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"name"=>"We're all Wonderful!"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 2.4ms | Allocations: 585)
  Rendered passengers/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 640)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 34ms (Views: 30.4ms | ActiveRecord: 0.4ms | Allocations: 7964)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0001_can update an existing passanger with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:51:06.163570"], ["updated_at", "2020-10-23 17:51:06.163570"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/69" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"69"}
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "90482309480924"], ["id", 69], ["LIMIT", 1]]
  [1m[36mPassenger Update (0.3ms)[0m  [1m[33mUPDATE "passengers" SET "name" = $1, "phone_num" = $2, "updated_at" = $3 WHERE "passengers"."id" = $4[0m  [["name", "Cathy Cathy"], ["phone_num", "90482309480924"], ["updated_at", "2020-10-23 17:51:06.186811"], ["id", 69]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/69
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 1238)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.7ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0003_does not update a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:51:06.196446"], ["updated_at", "2020-10-23 17:51:06.196446"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/70" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>""}, "id"=>"70"}
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "9340983094"], ["id", 70], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 4.0ms | Allocations: 632)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 6.2ms | Allocations: 795)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 33ms (Views: 27.8ms | ActiveRecord: 0.7ms | Allocations: 8420)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0002_does not update any passenger if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 301)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0004_does not update a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:51:06.258366"], ["updated_at", "2020-10-23 17:51:06.258366"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/71" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"phone_num"=>""}, "id"=>"71"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", ""], ["id", 71], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.8ms | Allocations: 623)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 678)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 22ms (Views: 18.6ms | ActiveRecord: 0.6ms | Allocations: 8172)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
Passenger::relationships: test_0001_can have many trips
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:51:06.293196"], ["updated_at", "2020-10-23 17:51:06.293196"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "ALWSS52P9NEYLVDE9"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Waldo"], ["vin", "ALWSS52P9NEYLVDE9"], ["created_at", "2020-10-23 17:51:06.295195"], ["updated_at", "2020-10-23 17:51:06.295195"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 17:51:06.297321"], ["updated_at", "2020-10-23 17:51:06.297321"], ["passenger_id", 72], ["driver_id", 83]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mTrip Create (0.7ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 17:51:06.299310"], ["updated_at", "2020-10-23 17:51:06.299310"], ["passenger_id", 72], ["driver_id", 83]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 72]]
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 72]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
HomepagesController: test_0001_can get the homepage
---------------------------------------------------
Started GET "/" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by HomepagesController#index as HTML
  Rendering homepages/index.html.erb within layouts/application
  Rendered homepages/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 979)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 7975)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
DriversController::show: test_0002_responds with 404 with an invalid driver id
------------------------------------------------------------------------------
Started GET "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 414)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
DriversController::show: test_0001_responds with success when showing an existing valid driver
----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.340059"], ["updated_at", "2020-10-23 17:51:06.340059"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/84" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"84"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  Rendering drivers/show.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 84]]
  [1m[36mTrip Load (0.4ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 84]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 84]]
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 84]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 84]]
  Rendered drivers/show.html.erb within layouts/application (Duration: 10.7ms | Allocations: 1780)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 32.5ms | ActiveRecord: 1.8ms | Allocations: 8974)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Driver: test_0001_can be instantiated
-------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver: test_0002_will have the required fields
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.393090"], ["updated_at", "2020-10-23 17:51:06.393090"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------
PassengersController::index: test_0001_responds with success when there are many passenger saved
------------------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 350)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.9ms | ActiveRecord: 0.3ms | Allocations: 6984)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
PassengersController::index: test_0002_responds with success when there are no passenger
----------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 139)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.2ms | Allocations: 6636)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------
Driver::custom methods::total earnings: test_0001_returns the total earnings of all the driver's trips
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.5ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.470250"], ["updated_at", "2020-10-23 17:51:06.470250"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 17:51:06.473426"], ["updated_at", "2020-10-23 17:51:06.473426"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 17:51:06.478115"], ["updated_at", "2020-10-23 17:51:06.478115"], ["passenger_id", 73], ["driver_id", 86]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 17:51:06.480225"], ["updated_at", "2020-10-23 17:51:06.480225"], ["passenger_id", 73], ["driver_id", 86]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 86]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 86]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0001_responds with success when getting the edit page for an existing, valid driver
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.485864"], ["updated_at", "2020-10-23 17:51:06.485864"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/87/edit" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"87"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 3.1ms | Allocations: 1024)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1312)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.2ms | Allocations: 8067)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0002_responds with redirect when getting the edit page for a non-existing driver
--------------------------------------------------------------------------------------------------------------
Started GET "/drivers/-1/edit" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 300)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
DriversController::update: test_0002_does not update any driver if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"-1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 299)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::update: test_0004_does not update a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.550370"], ["updated_at", "2020-10-23 17:51:06.550370"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/88" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"vin"=>""}, "id"=>"88"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", ""], ["id", 88], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.0ms | Allocations: 632)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 687)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 14ms (Views: 10.6ms | ActiveRecord: 0.6ms | Allocations: 8589)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0005_does not update a driver if vin is less than 17 chars, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.581347"], ["updated_at", "2020-10-23 17:51:06.581347"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/89" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}, "id"=>"89"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678"], ["id", 89], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.8ms | Allocations: 627)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 682)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 12ms (Views: 9.1ms | ActiveRecord: 0.5ms | Allocations: 8198)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0003_does not update a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.4ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.605817"], ["updated_at", "2020-10-23 17:51:06.605817"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/90" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>""}, "id"=>"90"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 90], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.2ms | Allocations: 622)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 677)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 17ms (Views: 13.5ms | ActiveRecord: 0.7ms | Allocations: 8186)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0001_can update an existing driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.634901"], ["updated_at", "2020-10-23 17:51:06.634901"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/91" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"91"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 91], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "name" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["name", "Speed"], ["updated_at", "2020-10-23 17:51:06.646523"], ["id", 91]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/91
Completed 302 Found in 3ms (ActiveRecord: 0.9ms | Allocations: 1088)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::index: test_0001_responds with success when there are many drivers saved
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.4ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.651695"], ["updated_at", "2020-10-23 17:51:06.651695"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.2ms | Allocations: 7052)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
DriversController::index: test_0002_responds with success when there are no drivers saved
-----------------------------------------------------------------------------------------
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 141)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 6638)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0002_does not change the db when the driver does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.698472"], ["updated_at", "2020-10-23 17:51:06.698472"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/-1" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 293)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0001_destroys the driver instance in db when driver exists, then redirects
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.710204"], ["updated_at", "2020-10-23 17:51:06.710204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/94" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"94"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Destroy (0.2ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 94]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 538)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
TripsController::destroy: test_0002_does not change the db when the trip does not exist, then responds with 
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:06.724816"], ["updated_at", "2020-10-23 17:51:06.724816"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.726738"], ["updated_at", "2020-10-23 17:51:06.726738"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/-1" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 414)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
TripsController::destroy: test_0001_destroys the trip instance in db when trip exists, then redirects
-----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:06.743052"], ["updated_at", "2020-10-23 17:51:06.743052"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.744499"], ["updated_at", "2020-10-23 17:51:06.744499"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:51:06.746696"], ["updated_at", "2020-10-23 17:51:06.746696"], ["passenger_id", 75], ["driver_id", 96]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/52" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"52"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTrip Destroy (2.1ms)[0m  [1m[31mDELETE FROM "trips" WHERE "trips"."id" = $1[0m  [["id", 52]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 6ms (ActiveRecord: 2.5ms | Allocations: 525)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger: test_0002_will have the required fields
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:51:06.765273"], ["updated_at", "2020-10-23 17:51:06.765273"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
Passenger: test_0001_can be instantiated
----------------------------------------
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0002_responds with redirect when getting the edit page for a non-existing passenger
--------------------------------------------------------------------------------------------------------------------
Started GET "/passengers/-1/edit" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 298)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0001_responds with success when getting the edit page for an existing, valid passenger
-----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:51:06.783641"], ["updated_at", "2020-10-23 17:51:06.783641"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/passengers/77/edit" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"77"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.9ms | Allocations: 619)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 674)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 7296)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
Passenger::custom methods::total charges: test_0001_returns the total charges of all the passenger's trips
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:51:06.806638"], ["updated_at", "2020-10-23 17:51:06.806638"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "DriverWink"], ["vin", "12345678901234567"], ["created_at", "2020-10-23 17:51:06.809018"], ["updated_at", "2020-10-23 17:51:06.809018"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 10.0], ["created_at", "2020-10-23 17:51:06.813624"], ["updated_at", "2020-10-23 17:51:06.813624"], ["passenger_id", 78], ["driver_id", 97]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 50.0], ["created_at", "2020-10-23 17:51:06.815926"], ["updated_at", "2020-10-23 17:51:06.815926"], ["passenger_id", 78], ["driver_id", 97]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 78]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0001_destroys the passenger instance in db when passenger exists, then redirects
--------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:51:06.822614"], ["updated_at", "2020-10-23 17:51:06.822614"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/79" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"79"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Destroy (0.2ms)[0m  [1m[31mDELETE FROM "passengers" WHERE "passengers"."id" = $1[0m  [["id", 79]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 519)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0002_does not change the db when the passenger does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 291)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
TripsController::update: test_0001_can update an existing trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:06.850223"], ["updated_at", "2020-10-23 17:51:06.850223"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.852225"], ["updated_at", "2020-10-23 17:51:06.852225"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:51:06.854909"], ["updated_at", "2020-10-23 17:51:06.854909"], ["passenger_id", 80], ["driver_id", 98]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started PATCH "/trips/55" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"80", "driver_id"=>"98"}, "id"=>"55"}
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Trip Load (0.0ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
Redirected to http://www.example.com/trips/55
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1350)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
TripsController::update: test_0002_does not update any trip if given an invalid id, and responds with a 404
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:06.879283"], ["updated_at", "2020-10-23 17:51:06.879283"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.881167"], ["updated_at", "2020-10-23 17:51:06.881167"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started PATCH "/trips/-1" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"81", "driver_id"=>"99"}, "id"=>"-1"}
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 303)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
TripsController::edit: test_0002_responds with redirect when getting the edit page for a non-existing trip
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:06.898231"], ["updated_at", "2020-10-23 17:51:06.898231"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.899962"], ["updated_at", "2020-10-23 17:51:06.899962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1/edit" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 304)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------------
TripsController::edit: test_0001_responds with success when getting the edit page for an existing, valid trip
-------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:06.911895"], ["updated_at", "2020-10-23 17:51:06.911895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.913445"], ["updated_at", "2020-10-23 17:51:06.913445"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:51:06.915652"], ["updated_at", "2020-10-23 17:51:06.915652"], ["passenger_id", 83], ["driver_id", 101]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/56/edit" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"56"}
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  Rendering trips/edit.html.erb within layouts/application
  Rendered trips/edit.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1385)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.3ms | Allocations: 8575)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
TripsController::show: test_0001_will get show for valid id
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:06.948159"], ["updated_at", "2020-10-23 17:51:06.948159"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.950471"], ["updated_at", "2020-10-23 17:51:06.950471"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 17:51:06.952869"], ["updated_at", "2020-10-23 17:51:06.952869"], ["passenger_id", 84], ["driver_id", 102]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/57" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"57"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  Rendering trips/show.html.erb within layouts/application
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  Rendered trips/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 769)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.6ms | Allocations: 7526)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
TripsController::show: test_0002_will respond with not_found for invalid ids
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:06.979376"], ["updated_at", "2020-10-23 17:51:06.979376"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.981663"], ["updated_at", "2020-10-23 17:51:06.981663"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1" for 127.0.0.1 at 2020-10-23 10:51:06 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.4ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 304)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Driver::relationships: test_0001_can have many trips
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:06.999034"], ["updated_at", "2020-10-23 17:51:06.999034"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 17:51:07.001215"], ["updated_at", "2020-10-23 17:51:07.001215"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 17:51:07.003304"], ["updated_at", "2020-10-23 17:51:07.003304"], ["passenger_id", 86], ["driver_id", 104]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 17:51:07.006134"], ["updated_at", "2020-10-23 17:51:07.006134"], ["passenger_id", 86], ["driver_id", 104]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 104]]
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 104]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0002_make driver unavailable if driver is available
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:07.010940"], ["updated_at", "2020-10-23 17:51:07.010940"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/105/make_available" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"105"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 105], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 17:51:07.020608"], ["id", 105]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/105
Completed 302 Found in 3ms (ActiveRecord: 0.9ms | Allocations: 987)
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0001_make driver available if driver is unavailable
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.8ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", false], ["created_at", "2020-10-23 17:51:07.024186"], ["updated_at", "2020-10-23 17:51:07.024186"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/106/make_available" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"106"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 106], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", true], ["updated_at", "2020-10-23 17:51:07.036218"], ["id", 106]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/106
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 986)
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
PassengersController::new: test_0001_resonse with succes
--------------------------------------------------------
Started GET "/passengers/new" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by PassengersController#new as HTML
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.8ms | Allocations: 573)
  Rendered passengers/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 628)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 7134)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------
TripsController::create: test_0001_can create a new trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 17:51:07.064580"], ["updated_at", "2020-10-23 17:51:07.064580"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:07.066227"], ["updated_at", "2020-10-23 17:51:07.066227"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started POST "/passengers/87/trips" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by TripsController#create as HTML
  Parameters: {"passenger_id"=>"87"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1 ORDER BY "drivers"."id" ASC LIMIT $2[0m  [["available", true], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("date", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["date", "2020-10-23"], ["cost", 54.0], ["created_at", "2020-10-23 17:51:07.080379"], ["updated_at", "2020-10-23 17:51:07.080379"], ["passenger_id", 87], ["driver_id", 107]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/trips/60
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 107], ["LIMIT", 1]]
  [1m[36mDriver Update (0.3ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 17:51:07.084024"], ["id", 107]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 8ms (ActiveRecord: 1.5ms | Allocations: 2049)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
DriversController::new: test_0001_responds with success
-------------------------------------------------------
Started GET "/drivers/new" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by DriversController#new as HTML
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.0ms | Allocations: 571)
  Rendered drivers/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 726)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 7364)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver::validations: test_0001_must have a name
-----------------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
Driver::validations: test_0002_must have a VIN number
-----------------------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::create: test_0002_does not create a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Drivers are all Wonderful!"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.2ms | Allocations: 583)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 638)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 40ms (Views: 13.1ms | ActiveRecord: 0.5ms | Allocations: 8284)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0003_does not create a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"vin"=>"12345678901234567"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.1ms | Allocations: 575)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 630)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 11ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 7976)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0004_does not create a driver if vin is shorter than 17 chars, and responds with a redirect
---------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.7ms | Allocations: 583)
  Rendered drivers/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 638)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 12ms (Views: 10.4ms | ActiveRecord: 0.4ms | Allocations: 8007)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
DriversController::create: test_0001_can create a new driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Speed"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 17:51:07.220901"], ["updated_at", "2020-10-23 17:51:07.220901"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/108
Completed 302 Found in 2ms (ActiveRecord: 0.5ms | Allocations: 936)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
PassengersController::show: test_0001_will get show for valid id
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 17:51:07.228082"], ["updated_at", "2020-10-23 17:51:07.228082"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passengers/88" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"88"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  Rendering passengers/show.html.erb within layouts/application
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 88]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1[0m  [["available", true]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 88]]
  Rendered passengers/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.8ms | Allocations: 8121)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
PassengersController::show: test_0002_will respond with not_found for invalid ids
---------------------------------------------------------------------------------
Started GET "/passengers/-1" for 127.0.0.1 at 2020-10-23 10:51:07 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (6.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------------
TripsController::edit: test_0001_responds with success when getting the edit page for an existing, valid trip
-------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (13.0ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (12.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:19:51.859224"], ["updated_at", "2020-10-23 18:19:51.859224"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (2.7ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:51.885317"], ["updated_at", "2020-10-23 18:19:51.885317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mTrip Create (3.0ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 18:19:51.920259"], ["updated_at", "2020-10-23 18:19:51.920259"], ["passenger_id", 89], ["driver_id", 109]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (7.7ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/61/edit" for 127.0.0.1 at 2020-10-23 11:19:51 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"61"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  Rendering trips/edit.html.erb within layouts/application
  Rendered trips/edit.html.erb within layouts/application (Duration: 30.0ms | Allocations: 2905)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6228ms (Views: 6214.8ms | ActiveRecord: 0.2ms | Allocations: 42505)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
TripsController::edit: test_0002_responds with redirect when getting the edit page for a non-existing trip
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.7ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:19:58.197100"], ["updated_at", "2020-10-23 18:19:58.197100"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.4ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:58.204227"], ["updated_at", "2020-10-23 18:19:58.204227"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1/edit" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by TripsController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.4ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 308)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
TripsController::destroy: test_0001_destroys the trip instance in db when trip exists, then redirects
-----------------------------------------------------------------------------------------------------
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:19:58.224181"], ["updated_at", "2020-10-23 18:19:58.224181"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:58.227040"], ["updated_at", "2020-10-23 18:19:58.227040"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mTrip Create (0.2ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 18:19:58.229947"], ["updated_at", "2020-10-23 18:19:58.229947"], ["passenger_id", 91], ["driver_id", 111]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/62" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"62"}
  [1m[36mTrip Load (0.4ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTrip Destroy (0.3ms)[0m  [1m[31mDELETE FROM "trips" WHERE "trips"."id" = $1[0m  [["id", 62]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 4ms (ActiveRecord: 1.3ms | Allocations: 558)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (3.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
TripsController::destroy: test_0002_does not change the db when the trip does not exist, then responds with 
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:19:58.260271"], ["updated_at", "2020-10-23 18:19:58.260271"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:58.264282"], ["updated_at", "2020-10-23 18:19:58.264282"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started DELETE "/trips/-1" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by TripsController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (91.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 92ms (ActiveRecord: 91.1ms | Allocations: 297)
  [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (17.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
DriversController::new: test_0001_responds with success
-------------------------------------------------------
Started GET "/drivers/new" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by DriversController#new as HTML
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 21.9ms | Allocations: 992)
  Rendered drivers/new.html.erb within layouts/application (Duration: 24.7ms | Allocations: 1298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.0ms | Allocations: 8379)
  [1m[35m (11.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver::validations: test_0001_must have a name
-----------------------------------------------
  [1m[36mDriver Exists? (9.7ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (12.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
Driver::validations: test_0002_must have a VIN number
-----------------------------------------------------
  [1m[36mDriver Exists? (38.0ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0001_destroys the passenger instance in db when passenger exists, then redirects
--------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.7ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 18:19:58.603849"], ["updated_at", "2020-10-23 18:19:58.603849"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/93" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"93"}
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Destroy (0.2ms)[0m  [1m[31mDELETE FROM "passengers" WHERE "passengers"."id" = $1[0m  [["id", 93]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 634)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------
PassengersController::destroy: test_0002_does not change the db when the passenger does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started DELETE "/passengers/-1" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by PassengersController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 291)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0001_destroys the driver instance in db when driver exists, then redirects
-----------------------------------------------------------------------------------------------------------
  [1m[35m (128.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (6.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:58.789067"], ["updated_at", "2020-10-23 18:19:58.789067"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/113" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"113"}
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Destroy (0.2ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 113]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers
Completed 302 Found in 5ms (ActiveRecord: 1.8ms | Allocations: 633)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------
DriversController::destroy: test_0002_does not change the db when the driver does not exist, then responds with 
----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.6ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:58.823327"], ["updated_at", "2020-10-23 18:19:58.823327"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started DELETE "/drivers/-1" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by DriversController#destroy as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 293)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0003_does not update a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 18:19:58.857430"], ["updated_at", "2020-10-23 18:19:58.857430"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/94" for 127.0.0.1 at 2020-10-23 11:19:58 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>""}, "id"=>"94"}
  [1m[36mPassenger Load (0.5ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "9340983094"], ["id", 94], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 2.8ms | Allocations: 981)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1271)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 163ms (Views: 156.8ms | ActiveRecord: 1.6ms | Allocations: 9574)
  [1m[35m (16.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0001_can update an existing passanger with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (4.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 18:19:59.075884"], ["updated_at", "2020-10-23 18:19:59.075884"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/95" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"95"}
  [1m[36mPassenger Load (1.0ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", "90482309480924"], ["id", 95], ["LIMIT", 1]]
  [1m[36mPassenger Update (0.3ms)[0m  [1m[33mUPDATE "passengers" SET "name" = $1, "phone_num" = $2, "updated_at" = $3 WHERE "passengers"."id" = $4[0m  [["name", "Cathy Cathy"], ["phone_num", "90482309480924"], ["updated_at", "2020-10-23 18:19:59.095889"], ["id", 95]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/95
Completed 302 Found in 7ms (ActiveRecord: 2.4ms | Allocations: 1119)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0002_does not update any passenger if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/-1" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"name"=>"Cathy Cathy", "phone_num"=>"90482309480924"}, "id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 297)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::update: test_0004_does not update a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 18:19:59.130728"], ["updated_at", "2020-10-23 18:19:59.130728"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started PATCH "/passengers/96" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#update as HTML
  Parameters: {"passenger"=>{"phone_num"=>""}, "id"=>"96"}
  [1m[36mPassenger Load (2.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 AND "passengers"."id" != $2 LIMIT $3[0m  [["phone_num", ""], ["id", 96], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 2.8ms | Allocations: 627)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 3.2ms | Allocations: 682)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 37ms (Views: 22.2ms | ActiveRecord: 2.9ms | Allocations: 8349)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::index: test_0001_responds with success when there are many drivers saved
-------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:59.264639"], ["updated_at", "2020-10-23 18:19:59.264639"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 422)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.2ms | Allocations: 7062)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
DriversController::index: test_0002_responds with success when there are no drivers saved
-----------------------------------------------------------------------------------------
Started GET "/drivers" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by DriversController#index as HTML
  Rendering drivers/index.html.erb within layouts/application
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers"[0m
  Rendered drivers/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 141)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.2ms | Allocations: 6638)
  [1m[35m (7.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
Driver::custom methods::average rating: test_0001_returns the correct average rating for the driver
---------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:59.345015"], ["updated_at", "2020-10-23 18:19:59.345015"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 18:19:59.347002"], ["updated_at", "2020-10-23 18:19:59.347002"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mTrip Create (1.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 18:19:59.350781"], ["updated_at", "2020-10-23 18:19:59.350781"], ["passenger_id", 97], ["driver_id", 116]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.5ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 18:19:59.356902"], ["updated_at", "2020-10-23 18:19:59.356902"], ["passenger_id", 97], ["driver_id", 116]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 116]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 116]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
DriversController::show: test_0001_responds with success when showing an existing valid driver
----------------------------------------------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:59.371242"], ["updated_at", "2020-10-23 18:19:59.371242"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/117" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"117"}
  [1m[36mDriver Load (1.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  Rendering drivers/show.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 117]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."rating" IS NOT NULL[0m  [["driver_id", 117]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 117]]
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 117]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 117]]
  Rendered drivers/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 22.7ms | ActiveRecord: 2.6ms | Allocations: 8536)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
DriversController::show: test_0002_responds with 404 with an invalid driver id
------------------------------------------------------------------------------
Started GET "/drivers/-1" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by DriversController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 300)
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
PassengersController::index: test_0002_responds with success when there are no passenger
----------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 346)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 50.2ms | ActiveRecord: 0.2ms | Allocations: 6982)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------
PassengersController::index: test_0001_responds with success when there are many passenger saved
------------------------------------------------------------------------------------------------
Started GET "/passengers" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#index as HTML
  Rendering passengers/index.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers"[0m
  Rendered passengers/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 139)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 6637)
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------
Driver: test_0001_can be instantiated
-------------------------------------
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
Driver: test_0002_will have the required fields
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:59.522408"], ["updated_at", "2020-10-23 18:19:59.522408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
HomepagesController: test_0001_can get the homepage
---------------------------------------------------
Started GET "/" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by HomepagesController#index as HTML
  Rendering homepages/index.html.erb within layouts/application
  Rendered homepages/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 978)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 7963)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger: test_0002_will have the required fields
--------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 18:19:59.560644"], ["updated_at", "2020-10-23 18:19:59.560644"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
Passenger: test_0001_can be instantiated
----------------------------------------
  [1m[36mPassenger Exists? (7.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
Passenger::custom methods::total charges: test_0001_returns the total charges of all the passenger's trips
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 18:19:59.578332"], ["updated_at", "2020-10-23 18:19:59.578332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "DriverWink"], ["vin", "12345678901234567"], ["created_at", "2020-10-23 18:19:59.580174"], ["updated_at", "2020-10-23 18:19:59.580174"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mTrip Create (20.9ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 10.0], ["created_at", "2020-10-23 18:19:59.589890"], ["updated_at", "2020-10-23 18:19:59.589890"], ["passenger_id", 99], ["driver_id", 119]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.6ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mTrip Create (6.8ms)[0m  [1m[32mINSERT INTO "trips" ("cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cost", 50.0], ["created_at", "2020-10-23 18:19:59.619472"], ["updated_at", "2020-10-23 18:19:59.619472"], ["passenger_id", 99], ["driver_id", 119]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 99]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
TripsController::update: test_0001_can update an existing trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------------
  [1m[35m (77.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:19:59.726133"], ["updated_at", "2020-10-23 18:19:59.726133"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:59.728986"], ["updated_at", "2020-10-23 18:19:59.728986"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 18:19:59.732546"], ["updated_at", "2020-10-23 18:19:59.732546"], ["passenger_id", 100], ["driver_id", 120]]
  [1m[35m (2.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (0.5ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started PATCH "/trips/67" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"100", "driver_id"=>"120"}, "id"=>"67"}
  [1m[36mTrip Load (3.5ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.7ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCACHE Trip Load (0.0ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
[31mUnpermitted parameters: :passenger_id, :driver_id[0m
Redirected to http://www.example.com/trips/67
Completed 302 Found in 10ms (ActiveRecord: 5.6ms | Allocations: 1352)
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (1.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------
TripsController::update: test_0002_does not update any trip if given an invalid id, and responds with a 404
-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:19:59.773243"], ["updated_at", "2020-10-23 18:19:59.773243"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:19:59.775430"], ["updated_at", "2020-10-23 18:19:59.775430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started PATCH "/trips/-1" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by TripsController#update as HTML
  Parameters: {"trip"=>{"passenger_id"=>"101", "driver_id"=>"121"}, "id"=>"-1"}
  [1m[36mTrip Load (0.7ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.7ms | Allocations: 303)
  [1m[35m (18.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[35m (6.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
PassengersController::show: test_0001_will get show for valid id
----------------------------------------------------------------
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 18:19:59.839736"], ["updated_at", "2020-10-23 18:19:59.839736"]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passengers/102" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"102"}
  [1m[36mPassenger Load (1.7ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  Rendering passengers/show.html.erb within layouts/application
  [1m[36mTrip Load (1.9ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["passenger_id", 102]]
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1[0m  [["available", true]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 102]]
  Rendered passengers/show.html.erb within layouts/application (Duration: 12.3ms | Allocations: 1365)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 24.1ms | ActiveRecord: 4.8ms | Allocations: 8118)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
PassengersController::show: test_0002_will respond with not_found for invalid ids
---------------------------------------------------------------------------------
Started GET "/passengers/-1" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (1.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 1.1ms | Allocations: 298)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0002_does not create a passenger if phone number is not present, and responds with a redirect
--------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"name"=>"We're all Wonderful!"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.9ms | Allocations: 588)
  Rendered passengers/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 743)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 35ms (Views: 32.5ms | ActiveRecord: 0.5ms | Allocations: 8225)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PassengersController::create: test_0001_can create a passanger
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 11:19:59 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"id"=>"10", "name"=>"Cathy Cathy", "phone_num"=>"8783 93093 3983"}}
[31mUnpermitted parameter: :id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "8783 93093 3983"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy Cathy"], ["phone_num", "8783 93093 3983"], ["created_at", "2020-10-23 18:19:59.998330"], ["updated_at", "2020-10-23 18:19:59.998330"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/passengers/103
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 922)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.4ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.5ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
PassengersController::create: test_0003_does not create a passenger if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
Started POST "/passengers" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by PassengersController#create as HTML
  Parameters: {"passenger"=>{"phone_num"=>"4259997777"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "4259997777"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 2.2ms | Allocations: 577)
  Rendered passengers/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 632)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 52ms (Views: 48.4ms | ActiveRecord: 0.4ms | Allocations: 7977)
  [1m[35m (15.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "passengers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0001_responds with success when getting the edit page for an existing, valid driver
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (3.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.123129"], ["updated_at", "2020-10-23 18:20:00.123129"]]
  [1m[35m (2.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/drivers/122/edit" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"122"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 4.1ms | Allocations: 617)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 773)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.2ms | Allocations: 7528)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
DriversController::edit: test_0002_responds with redirect when getting the edit page for a non-existing driver
--------------------------------------------------------------------------------------------------------------
Started GET "/drivers/-1/edit" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 300)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0001_can update an existing driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (3.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (7.0ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.246071"], ["updated_at", "2020-10-23 18:20:00.246071"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/123" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"123"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 123], ["LIMIT", 1]]
  [1m[36mDriver Update (0.2ms)[0m  [1m[33mUPDATE "drivers" SET "name" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["name", "Speed"], ["updated_at", "2020-10-23 18:20:00.280915"], ["id", 123]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/123
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1088)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0003_does not update a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.290521"], ["updated_at", "2020-10-23 18:20:00.290521"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/124" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>""}, "id"=>"124"}
  [1m[36mDriver Load (1.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 124], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.8ms | Allocations: 623)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 678)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 38ms (Views: 30.7ms | ActiveRecord: 1.9ms | Allocations: 8324)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
DriversController::update: test_0002_does not update any driver if given an invalid id, and responds with a 404
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/-1" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}, "id"=>"-1"}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.4ms | Allocations: 299)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::update: test_0004_does not update a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.361241"], ["updated_at", "2020-10-23 18:20:00.361241"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/125" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"vin"=>""}, "id"=>"125"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", ""], ["id", 125], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.7ms | Allocations: 632)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.8ms | Allocations: 687)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 27ms (Views: 17.6ms | ActiveRecord: 1.5ms | Allocations: 8636)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
DriversController::update: test_0005_does not update a driver if vin is less than 17 chars, and responds with a redirect
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.5ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.415940"], ["updated_at", "2020-10-23 18:20:00.415940"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started PATCH "/drivers/126" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#update as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}, "id"=>"126"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678"], ["id", 126], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/edit.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.7ms | Allocations: 628)
  Rendered drivers/edit.html.erb within layouts/application (Duration: 1.9ms | Allocations: 683)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 21ms (Views: 16.7ms | ActiveRecord: 1.0ms | Allocations: 8351)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (2.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------
DriversController::create: test_0002_does not create a driver if vin is not present, and responds with a redirect
-----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Drivers are all Wonderful!"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 1.2ms | Allocations: 581)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 636)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 21ms (Views: 13.7ms | ActiveRecord: 2.7ms | Allocations: 8301)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0004_does not create a driver if vin is shorter than 17 chars, and responds with a redirect
---------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Valid Name", "vin"=>"12345678"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 0.9ms | Allocations: 583)
  Rendered drivers/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 638)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 18ms (Views: 15.6ms | ActiveRecord: 0.4ms | Allocations: 8030)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (5.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------
DriversController::create: test_0003_does not create a driver if name is not present, and responds with a redirect
------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"vin"=>"12345678901234567"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678901234567"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering drivers/new.html.erb within layouts/application
  Rendered drivers/_form.html.erb (Duration: 3.5ms | Allocations: 575)
  Rendered drivers/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 630)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 400 Bad Request in 16ms (Views: 12.9ms | ActiveRecord: 0.7ms | Allocations: 7998)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
DriversController::create: test_0001_can create a new driver with valid information accurately, and redirect
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
Started POST "/drivers" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by DriversController#create as HTML
  Parameters: {"driver"=>{"name"=>"Speed", "vin"=>"12345678912345678"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Speed"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.617997"], ["updated_at", "2020-10-23 18:20:00.617997"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/127
Completed 302 Found in 6ms (ActiveRecord: 1.6ms | Allocations: 936)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "drivers"[0m
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0001_responds with success when getting the edit page for an existing, valid passenger
-----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "9340983094"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "We're all wonders"], ["phone_num", "9340983094"], ["created_at", "2020-10-23 18:20:00.631243"], ["updated_at", "2020-10-23 18:20:00.631243"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" ORDER BY "passengers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/passengers/104/edit" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"104"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  Rendering passengers/edit.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 0.7ms | Allocations: 619)
  Rendered passengers/edit.html.erb within layouts/application (Duration: 0.8ms | Allocations: 674)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.2ms | Allocations: 7296)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------
PassengersController::edit: test_0002_responds with redirect when getting the edit page for a non-existing passenger
--------------------------------------------------------------------------------------------------------------------
Started GET "/passengers/-1/edit" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by PassengersController#edit as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------
TripsController::create: test_0001_can create a new trip with valid information accurately, and redirect
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:20:00.678909"], ["updated_at", "2020-10-23 18:20:00.678909"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.680536"], ["updated_at", "2020-10-23 18:20:00.680536"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
Started POST "/passengers/105/trips" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by TripsController#create as HTML
  Parameters: {"passenger_id"=>"105"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."available" = $1 ORDER BY "drivers"."id" ASC LIMIT $2[0m  [["available", true], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mTrip Create (5.2ms)[0m  [1m[32mINSERT INTO "trips" ("date", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["date", "2020-10-23"], ["cost", 283.0], ["created_at", "2020-10-23 18:20:00.700634"], ["updated_at", "2020-10-23 18:20:00.700634"], ["passenger_id", 105], ["driver_id", 128]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/trips/68
  [1m[35m (6.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 128], ["LIMIT", 1]]
  [1m[36mDriver Update (7.5ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 18:20:00.716522"], ["id", 128]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 31ms (ActiveRecord: 21.8ms | Allocations: 2053)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips"[0m
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (3.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------
Driver::custom methods::total earnings: test_0001_returns the total earnings of all the driver's trips
------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (1.8ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.744755"], ["updated_at", "2020-10-23 18:20:00.744755"]]
  [1m[35m (2.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "1234567890"], ["LIMIT", 1]]
  [1m[36mPassenger Create (6.6ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "PassengerWinkWink"], ["phone_num", "1234567890"], ["created_at", "2020-10-23 18:20:00.756912"], ["updated_at", "2020-10-23 18:20:00.756912"]]
  [1m[35m (7.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.5ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mDriver Load (2.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mTrip Create (5.2ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 5], ["cost", 10.0], ["created_at", "2020-10-23 18:20:00.784144"], ["updated_at", "2020-10-23 18:20:00.784144"], ["passenger_id", 106], ["driver_id", 129]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mTrip Create (0.5ms)[0m  [1m[32mINSERT INTO "trips" ("rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["rating", 4], ["cost", 50.0], ["created_at", "2020-10-23 18:20:00.799535"], ["updated_at", "2020-10-23 18:20:00.799535"], ["passenger_id", 106], ["driver_id", 129]]
  [1m[35m (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 129]]
  [1m[36mTrip Load (0.3ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1 AND "trips"."cost" IS NOT NULL[0m  [["driver_id", 129]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
PassengersController::new: test_0001_resonse with succes
--------------------------------------------------------
Started GET "/passengers/new" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by PassengersController#new as HTML
  Rendering passengers/new.html.erb within layouts/application
  Rendered passengers/_form.html.erb (Duration: 1.0ms | Allocations: 566)
  Rendered passengers/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 621)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.0ms | Allocations: 7120)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
Passenger::relationships: test_0001_can have many trips
-------------------------------------------------------
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (2.8ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 18:20:00.864007"], ["updated_at", "2020-10-23 18:20:00.864007"]]
  [1m[35m (13.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (7.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "ALWSS52P9NEYLVDE9"], ["LIMIT", 1]]
  [1m[36mDriver Create (7.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Waldo"], ["vin", "ALWSS52P9NEYLVDE9"], ["created_at", "2020-10-23 18:20:00.891464"], ["updated_at", "2020-10-23 18:20:00.891464"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.8ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 18:20:00.910894"], ["updated_at", "2020-10-23 18:20:00.910894"], ["passenger_id", 107], ["driver_id", 130]]
  [1m[35m (2.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 18:20:00.917803"], ["updated_at", "2020-10-23 18:20:00.917803"], ["passenger_id", 107], ["driver_id", 130]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 107]]
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."passenger_id" = $1[0m  [["passenger_id", 107]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
Trip: test_0002_will have the required fields
---------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Trip: test_0001_can be instantiated
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
Driver::relationships: test_0001_can have many trips
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Kari"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.926354"], ["updated_at", "2020-10-23 18:20:00.926354"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.1ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kari"], ["phone_num", "111-111-1211"], ["created_at", "2020-10-23 18:20:00.927818"], ["updated_at", "2020-10-23 18:20:00.927818"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mTrip Create (0.3ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 5], ["cost", 1234.0], ["created_at", "2020-10-23 18:20:00.930784"], ["updated_at", "2020-10-23 18:20:00.930784"], ["passenger_id", 108], ["driver_id", 131]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mTrip Create (0.4ms)[0m  [1m[32mINSERT INTO "trips" ("date", "rating", "cost", "created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["date", "2020-10-23"], ["rating", 3], ["cost", 6334.0], ["created_at", "2020-10-23 18:20:00.933651"], ["updated_at", "2020-10-23 18:20:00.933651"], ["passenger_id", 108], ["driver_id", 131]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 131]]
  [1m[36mTrip Load (0.6ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."driver_id" = $1[0m  [["driver_id", 131]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
TripsController::show: test_0001_will get show for valid id
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:20:00.945118"], ["updated_at", "2020-10-23 18:20:00.945118"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.2ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:00.947008"], ["updated_at", "2020-10-23 18:20:00.947008"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Load (0.1ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mTrip Create (1.4ms)[0m  [1m[32mINSERT INTO "trips" ("created_at", "updated_at", "passenger_id", "driver_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2020-10-23 18:20:00.950190"], ["updated_at", "2020-10-23 18:20:00.950190"], ["passenger_id", 109], ["driver_id", 132]]
  [1m[35m (5.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTrip Load (2.7ms)[0m  [1m[34mSELECT "trips".* FROM "trips" ORDER BY "trips"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/trips/75" for 127.0.0.1 at 2020-10-23 11:20:00 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"75"}
  [1m[36mTrip Load (0.2ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  Rendering trips/show.html.erb within layouts/application
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  Rendered trips/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 775)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.7ms | Allocations: 7532)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
TripsController::show: test_0002_will respond with not_found for invalid ids
----------------------------------------------------------------------------
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPassenger Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "234598739248"], ["LIMIT", 1]]
  [1m[36mPassenger Create (1.0ms)[0m  [1m[32mINSERT INTO "passengers" ("name", "phone_num", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cathy"], ["phone_num", "234598739248"], ["created_at", "2020-10-23 18:20:01.012070"], ["updated_at", "2020-10-23 18:20:01.012070"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Jeta"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:01.016040"], ["updated_at", "2020-10-23 18:20:01.016040"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trips/-1" for 127.0.0.1 at 2020-10-23 11:20:01 -0700
Processing by TripsController#show as HTML
  Parameters: {"id"=>"-1"}
  [1m[36mTrip Load (0.1ms)[0m  [1m[34mSELECT "trips".* FROM "trips" WHERE "trips"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 304)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
Passenger::validations: test_0001_must have a name
--------------------------------------------------
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" = $1 LIMIT $2[0m  [["phone_num", "111-111-1211"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
Passenger::validations: test_0002_must have a phone number
----------------------------------------------------------
  [1m[36mPassenger Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "passengers" WHERE "passengers"."phone_num" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0002_make driver unavailable if driver is available
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", true], ["created_at", "2020-10-23 18:20:01.038526"], ["updated_at", "2020-10-23 18:20:01.038526"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/134/make_available" for 127.0.0.1 at 2020-10-23 11:20:01 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"134"}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 134], ["LIMIT", 1]]
  [1m[36mDriver Update (0.3ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", false], ["updated_at", "2020-10-23 18:20:01.050241"], ["id", 134]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/134
Completed 302 Found in 3ms (ActiveRecord: 0.9ms | Allocations: 986)
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (3.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
DriversController::make_available: test_0001_make driver available if driver is unavailable
-------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 LIMIT $2[0m  [["vin", "12345678912345678"], ["LIMIT", 1]]
  [1m[36mDriver Create (0.3ms)[0m  [1m[32mINSERT INTO "drivers" ("name", "vin", "available", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightning Mcqueen"], ["vin", "12345678912345678"], ["available", false], ["created_at", "2020-10-23 18:20:01.062086"], ["updated_at", "2020-10-23 18:20:01.062086"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/driver/135/make_available" for 127.0.0.1 at 2020-10-23 11:20:01 -0700
Processing by DriversController#make_available as HTML
  Parameters: {"id"=>"135"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDriver Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "drivers" WHERE "drivers"."vin" = $1 AND "drivers"."id" != $2 LIMIT $3[0m  [["vin", "12345678912345678"], ["id", 135], ["LIMIT", 1]]
  [1m[36mDriver Update (0.5ms)[0m  [1m[33mUPDATE "drivers" SET "available" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["available", true], ["updated_at", "2020-10-23 18:20:01.079734"], ["id", 135]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/drivers/135
Completed 302 Found in 6ms (ActiveRecord: 2.1ms | Allocations: 986)
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
